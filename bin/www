#!/usr/bin/env node

import app from '../src/app.js';
import MongoDB from '#config/database.js';
import config from '#config/config.js';

// todo: Need to refactor this file

const main = async () => {
	await MongoDB.connectCloud();

	app.listen(config.port, () => {
		console.log(`Listening on port ${config.port}`);
	});
};

main();

// todo: future feature to stop server
// Example of graceful shutdown
// process.on('SIGINT', async () => {
// 	console.log('Shutting down the application...');
// 	await MongoDB.disconnect();
// 	process.exit(0);
// });
